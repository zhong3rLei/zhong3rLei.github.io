---
title: 前端笔记-js位运算
date: 2019-07-11 14:09:22
tags:
---

看到一个大厂面试题：

### 不用加减乘除运算符，求整数的7倍

本身太菜，自然是直接看了大佬的解答，涉及到了位运算，先看一个函数：

``` bash
// 先定义位运算加法
function bitAdd(m, n){
    while(m){
        [m, n] = [(m & n) << 1, m ^ n];
    }
    return n;
}
```

bitAdd可以不使用加减乘除符号，里面的结构函数不必多说了，先看m&n是一个什么操作，通俗点的白话来说，就是先把m和n转换成二进制数，然后进行“与”操作，与操作的描述是："如果两位都是 1 则设置每位为 1",举例来说：2&3，其实要先把2和3转换成二进制，就是10&11，那么当同一位上都是1那么与操作后，就是1，否则就是0，所以，10&11 = 10 = 2，然后看<<,这个操作符是零填充左位移，作用是通过从右推入零向左位移，并使最左边的位脱落。举例说明一下，2<<1即使010<<1 =100 = 4，就是这样转换的。接下来看^，这是亦或操作符，作用是如果两位只有一位为 1 则设置每位为 1，举例说明一下：2^3 =10^11 = 1,所以第一次循环后m= 4,n = 1,判断进入第二次循环可得4&1 = 0 ， 0<<1 = 0，4^1 = 5,最后返回的值是5，即2+5=5，使用位运算进行了加法运算。

继续看后续的代码：

``` bash
// 位运算实现方式 1 - 循环累加7次
let multiply7_bo_1 = (num)=>
{
  let sum = 0,counter = new Array(7); // 得到 [empty × 7]
  while(counter.length){
    sum = bitAdd(sum, num);
    counter.shift();
  }
  return sum;
}
```

这里做了while的循环遍历，但是为了不适用+号，借助了数组的length来实现，每次遍历都使数组的length减少1，于是就可以用数组的length作为判断条件，实现将输入的数字累加7次，就得到了一个整数的7倍。