---
title: 监听dom元素的宽高属性变化
date: 2019-10-21 16:51:47
tags: [javascript]
categories: 前端笔记
---

在日常开发中，当涉及到一些动态效果，或者与动态属性相关的交互体验的开发时，其实比较常接触到需要监听dom宽度啦高度啦，的数值变化的场景，可能是需要时刻知道，元素的属性值，或者获取元素属性值变化的时机。
废话不多说，我这里常用的监听dom元素属性变化，主要使用三个方法。

## 1、MutationObserver 
先看下mdn上的介绍和示例
>[MutationObserver](https://developer.mozilla.org/zh-CN/docs/Web/API/MutationObserver)接口提供了监视对DOM树所做更改的能力。它被设计为旧的Mutation Events功能的替代品，该功能是DOM3 Events规范的一部分。
>
>
> [MutationObserver](https://developer.mozilla.org/zh-CN/docs/Web/API/MutationObserver)的**observe**()方法配置了MutationObserver对象的回调方法以开始接收与给定选项匹配的DOM变化的通知。 根据配置，这个观察者会观察DOM树中的单个[Node](https://developer.mozilla.org/zh-CN/docs/Web/API/Node)，或者指定的节点及其某些或者所有的子孙节点。
>要停止这个MutationObserver （以便不再触发它的回调方法），需要调用[MutationObserver.disconnect](https://developer.mozilla.org/zh-CN/docs/Web/API/MutationObserver/disconnect)()方法。
>

``` bash

var elementToObserve = document.querySelector("#targetElementId");

var observer = new MutationObserver(function() {
    console.log('callback that runs when observer is triggered');
});

observer.observe(elementToObserve, {subtree: true, childList: true});
```

